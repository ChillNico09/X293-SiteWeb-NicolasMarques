<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="calculer.css">
    <title>Calculer</title>
</head>
    <header> 
        <div id="flexContainerHeader">
            <a href="accueil.html">               
                <img src="Hill_Climb_Racing_2_Logo.png" alt="Logo du jeu Hill Climb Racing 2" id="HCR2_Logo">
            </a>
            <!-- Boutton Contact -->
             <a href="contact.html">
                 <button class="Button_Header" id="Button_Contact" >
                     <img src="icon_contact.png" alt="Boutton avec une image de feuille de de contact" id="icon_contact">
                     Contact
                    </button>
                </a>
            <!-- Boutton accueil -->
             <a href="accueil.html">
                 <button class="Button_Header" id="Button_accueil">
                     <img src="icon_accueil.png" alt="Boutton avec une image d'une calculatrice." id="icon_accueil">
                     Accueil
                 </button>
             </a>
        </div>
    </header>
<body>
    <section id="SectionCalculer">
        <!-- Image du background -->
        <img src="assets\Background-AND-Button\GarageBackground.png" alt="Garage avec un grue en arrière plan" id="image_garage">
        <!-- Image du vehicule -->
        <img src="assets\Vehicule_Icon\HillClimber.webp" alt="jeep rouge" id="Vehicule_Icon">
        <section id="upgrades_panel">
            <!-- Upgardes numero 1 -->
            <div class="upgrade_block">
                <p class="upgrade_title" id="ut_1">Moteur</p>
                <p class="upgrade_level" id="ul_1">1/20</p>
                <input type="button" class="upgrade_button" value="+Niveau" onclick="Upgrade_1()">
                <input type="button" class="downgrade_button" value="-Niveau" onclick="Downgrade_1()">
            </div>
            
            <!-- Upgardes numero 2 -->
            <div class="upgrade_block">
                <p class="upgrade_title" id="ut_2">Adhérence</p>
                <p class="upgrade_level"  id="ul_2">1/20</p>
                <input type="button" class="upgrade_button" value="+Niveau" onclick="Upgrade_2()">
                <input type="button" class="downgrade_button" value="-Niveau" onclick="Downgrade_2()">
            </div>

            <!-- Upgardes numero 3 -->
            <div class="upgrade_block">
                <p class="upgrade_title" id="ut_3">Suspension</p>
                <p class="upgrade_level" id="ul_3">1/20</p>
                <input type="button" class="upgrade_button" value="+Niveau" onclick="Upgrade_3()">
                <input type="button" class="downgrade_button" value="-Niveau" onclick="Downgrade_3()">
            </div>

            <!-- Upgardes numero 4 -->
            <div class="upgrade_block">
                <p class="upgrade_title" id="ut_4">4X4</p>
                <p class="upgrade_level" id="ul_4">1/20</p>
                <input type="button" class="upgrade_button" value="+Niveau" onclick="Upgrade_4()">
                <input type="button" class="downgrade_button" value="-Niveau" onclick="Downgrade_4()">
            </div>

            <!-- Image pour changer de véhicule -->
            <img src="assets\Background-AND-Button\ChangeVehicule_PLACEHOLDER.png" alt="Illustration d'une jeep comme bouton pour changer de véhicule" id="change_vehicule_button" onclick="openForm()">


            <!-- Pop-up pour changer de vehicule -->
        <div class="form-popup" id="myForm">
            <div class="titleChangeVehicule">
                <h2 style="font-size: 4vh;">Changer de véhicule</h2>
            </div>
            <img src="assets\Vehicule_Icon\HillClimber.webp" alt="Jeep rouge: Hill climber" class="vehiculeIcon_Change" id="vehicule_1" onclick="ChangeVehicule('vehicule_1')">
            <img src="assets\Vehicule_Icon\HillClimberMK2.webp" alt="Jeep rouge avec une cage de sécurité: Hill climber mark 2" class="vehiculeIcon_Change" id="vehicule_2" onclick="ChangeVehicule('vehicule_2')">
            <img src="assets\Vehicule_Icon\Sportscar.webp" alt="voiture de sport rouge: voiture de sport " class="vehiculeIcon_Change" id="vehicule_3" onclick="ChangeVehicule('vehicule_3')">
            <img src="assets\Vehicule_Icon\Offroader.webp" alt="voiture tout-terrain avec des chenilles et une cage de sécurité: Tout-terrain" class="vehiculeIcon_Change" id="vehicule_4" onclick="ChangeVehicule('vehicule_4')">
            <button class="closeInfoNico" onclick="closeForm()">X</button>
        </div>


            
        </section>
        <!-- Boutton pour calculer l'argent restant -->
        <input type="submit" id="calculerRestant" value="Calculer" onclick="Calculate()">

        <!-- Afficher le nombre d'argent requis -->
        <div id="nombreArgentRequis">
            <p id="textNombreArgentRequis">
                Argent requis
            </p>
        </div>
    </section>
</body>
</html>
<script>    

let vehicule_id = 0;
const imageVehicule = document.getElementById('Vehicule_Icon');

let listUpgrade_1 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
let listUpgrade_2 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
let listUpgrade_3 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
let listUpgrade_4 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];

    VehiculeStat.call()

    function ChangeVehicule(id){
        if(id == 'vehicule_1')
        {
            vehicule_id = 1;
        }
        if(id == 'vehicule_4')
        {
            vehicule_id = 2;
        }
        VehiculeStat.call();
    }

    function VehiculeStat(){
        if(vehicule_id == 1){
            listUpgrade_1 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
            listUpgrade_2 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
            listUpgrade_3 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
            listUpgrade_4 = [0, 800, 1500, 2200, 2900, 3700, 4500, 5400, 6400, 7400, 8600, 10000, 11000, 13000, 15000, 17000, 20000, 23000, 26000, 30000];
            document.getElementById("ut_1").textContent="Moteur";
            document.getElementById("ut_2").textContent="Adhérence";
            document.getElementById("ut_3").textContent="Suspension";
            document.getElementById("ut_4").textContent="4X4";
            imageVehicule.src= "assets\Vehicule_Icon\HillClimber.webp";
        }
        if (vehicule_id == 2) {
            listUpgrade_1 = [0, 2000, 3000, 4100, 5400, 6900, 8600, 11000, 13000, 16000, 19000, 24000, 29000, 35000, 43000, 52000, 64000, 79000, 97000, 120000];
            listUpgrade_2 = [0, 2000, 3000, 4100, 5400, 6900, 8600, 11000, 13000, 16000, 19000, 24000, 29000, 35000, 43000, 52000, 64000, 79000, 97000, 120000];
            listUpgrade_3 = [0, 2000, 3000, 4100, 5400, 6900, 8600, 11000, 13000, 16000, 19000, 24000, 29000, 35000, 43000, 52000, 64000, 79000, 97000, 120000];
            listUpgrade_4 = [0, 2000, 3000, 4200, 5600, 7200, 9100, 11000, 14000, 18000, 22000, 27000, 33000, 41000, 51000, 64000, 80000, 100000, 120000, 160000];
            document.getElementById("ut_1").textContent="Moteur";
            document.getElementById("ut_2").textContent="Adhérence";
            document.getElementById("ut_3").textContent="Suspension";
            document.getElementById("ut_4").textContent="M.A.A";
            imageVehicule.src= "assets\Vehicule_Icon\Offroader.webp";
        }
    }

    //Prix Upgrade Hill CLimber


    let level_1 = 1;
    let level_2 = 1;
    let level_3 = 1;
    let level_4 = 1;



    function openForm() {
    document.getElementById("myForm").style.display = "flex";
    document.getElementById("myForm").style.position = "absolute";
    }

    function closeForm() {
    document.getElementById("myForm").style.display = "none";
    }
    //Upgrade 1
    function Upgrade_1(){
        if(level_1 >= 20){

        }
        else
        {
            level_1++;
            document.getElementById("ul_1").textContent=level_1+"/20";
        }

    }

    //Upgrade 2
    function Upgrade_2(){
        if(level_2 >= 20){

        }
        else
        {
            level_2++;
            document.getElementById("ul_2").textContent=level_2+"/20";
        }
    }

    //Upgrade 3
    function Upgrade_3(){
        if(level_3 >= 20){

        }
        else
        {
            level_3++;
            document.getElementById("ul_3").textContent=level_3+"/20";
        }
    }

    //Upgrade 4
    function Upgrade_4(){
        if(level_4 >= 20){

        }
        else
        {
            level_4++;
            document.getElementById("ul_4").textContent=level_4+"/20";
        }
    }

    //Downgrade 1
    function Downgrade_1(){
        if(level_1 <= 1){

        }
        else
        {
            level_1--;
            document.getElementById("ul_1").textContent=level_1+"/20";
        }
    }

    //Downgrade 2
    function Downgrade_2(){
        if(level_2 <= 1){

        }
        else
        {
            level_2--;
            document.getElementById("ul_2").textContent=level_2+"/20";
        }
    }

    //Downgrade 3
    function Downgrade_3(){
        if(level_3 <= 1){

        }
        else
        {
            level_3--;
            document.getElementById("ul_3").textContent=level_3+"/20";
        }
    }

    //Downgrade 4
    function Downgrade_4(){
        if(level_4 <= 1){

        }
        else
        {
            level_4--;
            document.getElementById("ul_4").textContent=level_4+"/20";
        }
    }

    function Calculate(){
        let money_1=0;
        let money_2=0;
        let money_3=0;
        let money_4=0;
        for(let i = level_1; i < listUpgrade_1[i]; i++){
            money_1+=listUpgrade_1[i];
        }
        for(let i = level_2; i < listUpgrade_2[i]; i++){
            money_2+=listUpgrade_1[i];
        }
        for(let i = level_3; i < listUpgrade_3[i]; i++){
            money_3+=listUpgrade_1[i];
        }
        for(let i = level_4; i < listUpgrade_4[i]; i++){
            money_4+=listUpgrade_1[i];
        }
        let moneyFinal = money_1+money_2+money_3+money_4;
        document.getElementById("textNombreArgentRequis").textContent=moneyFinal;
    }

</script>